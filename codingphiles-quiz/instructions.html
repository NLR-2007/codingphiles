<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Quiz Instructions | CodingPhiles</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Jersey+10&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#020617;
      --card:rgba(255,255,255,0.05);
      --border:rgba(255,255,255,0.08);
      --text:#e5e7eb;
      --muted:#94a3b8;
      --primary:#1976d2;
      --green:#22c55e;
      --red:#ef4444;
      --yellow:#eab308;
    }

    *{margin:0;padding:0;box-sizing:border-box}

    body{
      font-family:"Nunito",sans-serif;
      background:linear-gradient(135deg,#0f172a,#020617);
      color:var(--text);
      min-height:100vh;
    }

    header{
      padding:20px 40px;
      border-bottom:1px solid var(--border);
      display:flex;
      justify-content:space-between;
      align-items:center;
    }

    header h1{
      font-family:"Jersey 10",cursive;
      font-size:38px;
      letter-spacing:2px;
    }

    main{
      max-width:900px;
      margin:40px auto;
      padding:0 20px;
    }

    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:16px;
      padding:30px;
    }

    h2{
      margin-bottom:16px;
    }

    .summary{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
      gap:16px;
      margin-bottom:30px;
    }

    .box{
      background:rgba(255,255,255,0.06);
      border:1px solid var(--border);
      border-radius:12px;
      padding:16px;
      font-size:14px;
    }

    ul{
      margin-left:20px;
      margin-bottom:20px;
    }

    li{
      margin-bottom:10px;
      font-size:14px;
      color:var(--muted);
    }

    .legend{
      display:flex;
      gap:20px;
      margin-bottom:20px;
      flex-wrap:wrap;
    }

    .legend span{
      font-size:13px;
      display:flex;
      align-items:center;
      gap:6px;
    }

    .dot{
      width:14px;
      height:14px;
      border-radius:50%;
      display:inline-block;
    }

    .green{background:var(--green)}
    .red{background:var(--red)}
    .yellow{background:var(--yellow)}

    .agree{
      display:flex;
      align-items:center;
      gap:10px;
      margin-top:20px;
      font-size:14px;
    }

    .actions{
      margin-top:30px;
      display:flex;
      justify-content:space-between;
      gap:20px;
      flex-wrap:wrap;
    }

    button{
      padding:14px 24px;
      border-radius:12px;
      border:none;
      font-weight:600;
      cursor:pointer;
    }

    .back{
      background:none;
      color:var(--text);
      border:1px solid var(--border);
    }

    .start{
      background:var(--primary);
      color:white;
      opacity:0.5;
      cursor:not-allowed;
    }

    .start.enabled{
      opacity:1;
      cursor:pointer;
    }

    footer{
      text-align:center;
      padding:20px;
      font-size:12px;
      color:var(--muted);
      border-top:1px solid var(--border);
      margin-top:40px;
    }
  </style>
</head>

<body>

<header>
  <h1>CodingPhiles</h1>
</header>

<main>
  <div class="card">

    <h2>Quiz Instructions</h2>

    <!-- QUIZ SUMMARY -->
    <div class="summary">
      <div class="box"><b>Subject:</b> <span id="subject"></span></div>
      <div class="box"><b>Difficulty:</b> <span id="difficulty"></span></div>
      <div class="box"><b>Questions:</b> <span id="count"></span></div>
      <div class="box"><b>Time:</b> <span id="time"></span> minutes</div>
    </div>

    <!-- RULES -->
    <ul>
      <li>Each question carries equal marks.</li>
      <li>Once the quiz starts, the timer cannot be paused.</li>
      <li>You can jump between questions at any time.</li>
      <li>Questions marked for review can be revisited before submission.</li>
      <li>The quiz will auto-submit when time is over.</li>
      <li>Refreshing the page may result in submission.</li>
    </ul>

    <!-- COLOR LEGEND -->
    <div class="legend">
      <span><i class="dot green"></i> Attempted</span>
      <span><i class="dot red"></i> Not Attempted</span>
      <span><i class="dot yellow"></i> Marked for Review</span>
    </div>

    <!-- AGREEMENT -->
    <div class="agree">
      <input type="checkbox" id="agree">
      <label for="agree">I have read and understood all the instructions.</label>
    </div>

    <!-- ACTIONS -->
    <div class="actions">
      <button class="back" onclick="goBack()">Back to Dashboard</button>
      <button class="start" id="startBtn">Start Quiz</button>
    </div>

  </div>
</main>

<footer>
  Developed by NLR GROUP OF COMPANY
</footer>

<script>
  // Load data from dashboard
  const subject = localStorage.getItem("quizSubject");
  const difficulty = localStorage.getItem("quizDifficulty");
  const count = localStorage.getItem("quizCount");

  if (!subject || !difficulty || !count) {
    alert("Quiz data missing. Redirecting to dashboard.");
    window.location.href = "dashboard.html";
  }

  document.getElementById("subject").textContent = subject;
  document.getElementById("difficulty").textContent = difficulty;
  document.getElementById("count").textContent = count;

  // Time logic (example: 1 min per question)
  const totalTime = count * 1;
  document.getElementById("time").textContent = totalTime;

  // Agreement logic
  const agree = document.getElementById("agree");
  const startBtn = document.getElementById("startBtn");

  agree.addEventListener("change", () => {
    if (agree.checked) {
      startBtn.classList.add("enabled");
      startBtn.disabled = false;
    } else {
      startBtn.classList.remove("enabled");
      startBtn.disabled = true;
    }
  });

  startBtn.onclick = () => {
    if (!agree.checked) return;
    localStorage.setItem("quizTime", totalTime);
    window.location.href = "quiz.html";
  };

  function goBack(){
    window.location.href = "dashboard.html";
  }
</script>

</body>
</html>
